2011-05-29
1，GetExtend扩展属性，可以考虑key加上参数，比如"Parent"+ParentID，这样可以使得ParentID改变时获取新的扩展属性

1，IDatabase创建会话时，不要缓存，因为一个会话可能传递给多个地方使用，不一定保证是同一个线程
2，DAL中创建会话，使用线程静态字典，保证每个线程一个会话对象
3，抽象IMetaData，所有元数据操作移到该接口实现，IDatabase增加CreateMetaData方法，并传递一个会话对象进去
4，每个数据库三个类，数据库类、数据库会话类、数据库元数据类